<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en">
    <head>
        <link rel="stylesheet" href= "./css/common.css">
        <script src = "jquery-1.8.3.min.js" type="text/javascript"></script>
    </head>
    <body>
        <div >
            <a class="logo" href="index.html">Logo</a>
            <a class="title" >Student Management Web Site</a>
        </div>
        <header-bar>
            <ul >
                <li ><a href="math_cs_dept.html">Math&CS Dept</a></li>
                <li ><a class = "active" href="e_library.html">E-Library</a></li>
                <li ><a href="gpa_cal.html">GPA Caculation</a></li>
                <li ><a href="teaching_assistant.html">Teaching Assistant</a></li>
                <li ><a href="com.sci.html">Com.Sci</a></li>
                <li ><a href="index.html">Home</a></li>
            </ul>
        </header-bar>
            
        <div class="main-body">
            <div class="left-panel" style="text-align: center">
                <span style="font-size:25px">Select Department</span>
                <depart-list>
                    <ul>
                        <li class="active" onclick = showBook(0)>Biology</li>
                        <li onclick = showBook(1)>Comp.Sci</li>
                        <li onclick = showBook(2)>Elec.Eng.</li>
                        <li onclick = showBook(3)>Finance</li>
                        <li onclick = showBook(4)>History</li>
                        <li onclick = showBook(5)>Music</li>
                        <li onclick = showBook(6)>Physics</li>
                    </ul>
                </depart-list>
            </div>
            <div class="right-panel">
                Textbooks in the <span id="e_lib_deptname">Biology</span> Department.
                <ref-table>
                    <table>
                        <tr>
                            <thead>
                                <th>Title</th>
                                <th>Published Year</th>
                                <th>Auth</th>
                                <th>Recommends</th>
                                <th>Download</th>
                            </thead>
                        </tr>
                        <tbody id="e_book_tbody">
                            <tr>
                                <td>Image Processing</td>
                                <td>2018</td>
                                <td>Bratn</td>
                                <td>984</td>
                                <td><a target="_blank" href="book/sub1.pdf" download>here</a></td>
                            </tr>
                        </tbody>
                    </table>
                </ref-table>
            </div>
        </div>
        <footer-bar>
            <p>
                <span>Name: ABCDE</span>
                <span style="margin-left:100px">Copyright@2020</span>
                <span style="margin-left:100px">Phone number: 1234567</span>
                <span style="margin-left:100px">Email: aaa@email.com</span>
            </p>
        </footer-bar>
    </body>

</html>

<script>
    $(document).ready(function() {
        showBook(0);
    });
    var deptName = [ "Biology", "Comp.Sci.", "Elec.Eng", "Finance", "History", "Music", "Physics"];
    var bookList = 
    [ [['About Animal', '2018', 'Angular', '123', 'sub1.pdf'],
    ['Structure of Body', '2016', 'Sebation', '222', 'sub1.pdf'],
    ['Life of Bear', '2020', 'Criton', '12', 'sub1.pdf'],],
    
    [['Image Processing', '2018', 'Bratn', '984', 'sub1.pdf'],
    ['Web Developing', '2017', 'FFF.DEF', '222', 'sub2.pdf'],
    ['Web Design', '2018', 'A.T.C', '123', 'sub1.pdf'],
    ['C++', '2018', 'Ruby', '94', 'sub2.pdf'],
    ['Database', '2020', 'Griton', '12', 'sub1.pdf'],],

    [['Electrical Enginnering', '2018', 'Bratn', '984', 'sub1.pdf'],
    ['Generator', '2018', 'Griton', '12', 'sub1.pdf'],],

    [['Finance Enginnering', '2018', 'Bratn', '425', 'sub1.pdf']],

    [['World History', '2018', 'Bratn', '42', 'sub1.pdf'],
    ['National History', '2018', 'Griton', '32', 'sub1.pdf']],

    [['Betoven', '2018', 'Bratn', '984', 'sub1.pdf']],

    [['Gravity & Application', '2018', 'Bratn', '84', 'sub1.pdf'],
    ['Newtown Laws 1, 2, 3', '2018', 'Griton', '212', 'sub2.pdf']],

    ]
    function showBook(deptId) {
        $('depart-list ul li').css ( 'color', 'black');
        $('depart-list ul li').removeClass ( 'active');
        $('depart-list ul li:eq('+deptId+')').addClass('active');
        $('depart-list ul li:eq('+deptId+')').css('color', 'blue');


        $('#e_lib_deptname').html(deptName[deptId]);
        $('#e_book_tbody').html('');
        bookList[deptId].forEach ( bookEle => {
            var trele = '<tr>';
            for ( var i = 0; i<4; i++) {
                trele += '<td>';
                trele += bookEle[i];
                trele += '</td>';
            }
            trele += '<td>';
            trele += '<a target = "_blank" href="book/'+ bookEle[4]+'">here</a>'
            trele += '</td></tr>';
            $('#e_book_tbody').append ( trele);
        });

    }
    $('depart-list ul li').hover( function() {
        $(this).css ( 'color', 'yellow');
    }, 
    function() {
        if ( $(this).hasClass ( 'active')) {
            $(this).css ( 'color', 'blue');
        }
        else {
            $(this).css ( 'color', 'black');
        }
    }    
    );
</script>